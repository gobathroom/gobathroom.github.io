:root{ 
  /* Medidas y capas */
  --header-h: 64px;
  --notify-h: 40px;
  --rail-collapsed: 64px;
  --rail-expanded: 280px;
  --content-max: 1440px;

  /* Espacios y radios */
  --space-1: 6px;  --space-2: 10px; --space-3: 16px; --space-4: 24px;
  --radius: 14px;

  /* Colores (modo oscuro por defecto) */
  --bg: #0d1117;
  --panel: #161b22;
  --panel-2: #1c2230;
  --text: #dbe5ff;
  --muted: #9fb0d0;
  --border: rgba(255,255,255,.12);
  --brand: #00d1ff;
  --brand-2: #7ef0ff;
}

/* Marco lateral igual al contenido */
.topbar,
.notifybar,
.footer-inner{
  padding-inline: clamp(16px, calc((100% - var(--content-max)) / 2), 24px);
}

/* Marca topbar */
.topbar .brand{
  flex: 0 1 auto;
  white-space: nowrap;
  transition: opacity .2s ease, width .2s ease, margin .2s ease;
}
body.sidebar-open .topbar .brand{
  opacity: 0; width: 0; margin: 0; pointer-events: none;
}
body.sidebar-open .topbar .top-actions .divider{ opacity:0; width:0 }

/* Esquemas de color */
@media (prefers-color-scheme: light){
  :root[data-theme="system"]{
    --bg:#f5f7fb; --panel:#ffffff; --panel-2:#f1f4fa; --text:#111827; --muted:#55627a; --border:rgba(17,24,39,.1);
  }
}
:root[data-theme="light"]{
  --bg:#f5f7fb; --panel:#ffffff; --panel-2:#f1f4fa; --text:#111827; --muted:#55627a; --border:rgba(17,24,39,.1);
}
:root[data-theme="dark"]{
  --bg:#0d1117; --panel:#161b22; --panel-2:#1c2230; --text:#dbe5ff; --muted:#9fb0d0; --border:rgba(255,255,255,.12);
}

/* Reset mínimo */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  color:var(--text);
  background:var(--bg);
  font: 400 16px/1.45 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans";
}

/* ===== Sidebar ===== */
.sidebar{
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  width: var(--rail-collapsed);
  background: var(--panel);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: width .2s ease;
  z-index: 45;
  padding-top: var(--header-h);
  overflow: hidden;
}
body.sidebar-open .sidebar{ width: var(--rail-expanded) }

/* ===== Cabecera del rail =====
   Usamos GRID con una 1ª columna FIJA = ancho colapsado.
   Así el icono/nombre se alinean y el botón bars puede moverse. */
.rail-head{
  position: absolute;
  top: 0; left: 0; right: 0;
  height: var(--header-h);
  display: grid;
  grid-template-columns: var(--rail-collapsed) 1fr;
  align-items: center;
  gap: 12px;
  padding-inline: 0;   /* sin padding para que la 1ª columna sea exacta */
  z-index: 1;
}

/* Marca dentro del rail */
.rail-head .brand.rail{ display:flex; align-items:center; gap:12px }
.rail .brand-name{
  font-weight:600;
  opacity:0;
  width:0;
  overflow:hidden;
  white-space:nowrap;
  transition: opacity .2s ease, width .2s ease;
}
body.sidebar-open .rail .brand-name{ opacity:1; width:auto }

/* Botón "bars": centrado en columna 1 cuando está cerrado;
   al abrir, pasa a la columna 2 y se alinea a la derecha */
.rail-head .rail-toggle{
  border:0; background:transparent;
  width:40px; height:40px;
  display:grid; place-items:center;
  border-radius:12px;
  transition: background .15s ease, transform .2s ease;
  grid-column: 1;               /* cerrado: columna fija de 64px */
  justify-self: center;         /* centrado horizontal */
}
.rail-head .rail-toggle:hover{ background:var(--panel-2) }
body.sidebar-open .rail-head .rail-toggle{
  grid-column: 2;               /* abierto: va a la derecha */
  justify-self: end;
}
.rail-head .rail-toggle:focus-visible{
  outline:2px solid var(--brand); outline-offset:2px;
}

/* ===== Grupos de items =====
   Sin padding horizontal para que la columna fija (64px) sea la guía. */
.rail-group, .rail-footer{
  list-style:none; margin:0;
  padding:12px 0;
}

/* ===== Items del rail =====
   GRID con primera columna fija = 64px (icono centrado SIEMPRE).
   La segunda columna se expande solo cuando el sidebar está abierto. */
.rail-item{
  -webkit-appearance:none; appearance:none;
  background:transparent; border:0; font:inherit;
  width:100%; min-height:40px;
  display:grid;
  grid-template-columns: var(--rail-collapsed) 0fr; /* texto colapsado */
  align-items:center;
  gap:12px;
  padding:6px 8px;
  border-radius:12px;
  color:var(--text); cursor:pointer;
  transition: background .15s ease, grid-template-columns .2s ease;
}
body.sidebar-open .rail-item{
  grid-template-columns: var(--rail-collapsed) 1fr;  /* aparece el texto */
}
.rail-item:hover{ background:var(--panel-2) }
.rail-item.is-active{ background:var(--panel-2) }

/* Icono SIEMPRE centrado en la 1ª columna (no se mueve nunca) */
.rail-item .ico{
  justify-self:center;           /* centro horizontal */
  width:24px; text-align:center; flex:0 0 24px;
}

/* Texto: aparece al abrir (opacidad por suavidad) */
.rail-item .txt{
  opacity:0; white-space:nowrap; overflow:hidden;
  transition: opacity .2s ease;
}
body.sidebar-open .rail-item .txt{ opacity:1 }

.rail-item.ghost{ opacity:.85 }

/* ===== Header fijo alineado al rail ===== */
.topbar{
  position: fixed;
  top: 0;
  left: var(--rail-collapsed);
  right: 0;
  height: var(--header-h);
  display:flex; align-items:center; gap:var(--space-3);
  padding:0 var(--space-4);
  background:var(--panel);
  border-bottom:1px solid var(--border);
  z-index: 1100;
  transition: left .2s ease;
  will-change: left;
}
body.sidebar-open .topbar{ left: var(--rail-expanded) }

/* Botones genéricos (no afecta a bars gracias a reglas específicas) */
.icon-btn{
  display:grid; place-items:center; width:40px; height:40px;
  border:1px solid var(--border); background:transparent; color:var(--text);
  border-radius:10px; cursor:pointer;
}

.brand{ display:flex; align-items:center; gap:10px; color:var(--text); text-decoration:none; }
.brand .brand-name{ font-weight:600 }

.top-actions{ margin-left:auto; display:flex; align-items:center; gap:var(--space-3);}
.top-actions .divider{ width:1px; height:22px; background:var(--border); }
.lang-select select{
  appearance:none; border:1px solid var(--border); background:transparent; color:var(--text);
  padding:8px 12px; border-radius:10px;
}

/* ===== Notify bar ===== */
.notifybar{
  position: fixed;
  top: var(--header-h);
  left: var(--rail-collapsed);
  right: 0;
  min-height: 36px;
  display:flex; align-items:center; gap:10px; justify-content:center;
  background:var(--panel-2); border-bottom:1px solid var(--border);
  padding: 8px var(--space-4);
  color:var(--muted);
  z-index: 1050;
  transition: left .2s ease;
  will-change: left;
}
body.sidebar-open .notifybar{ left: var(--rail-expanded) }
.notifybar a{ color:var(--brand); text-decoration:none }

/* ===== Page ===== */
.page{
  min-height:100svh;
  display:flex; flex-direction:column;
  margin-left: var(--rail-collapsed);
  transition: margin-left .2s ease;
  padding-top: calc(var(--header-h) + var(--notify-h));
}
body.sidebar-open .page{ margin-left: var(--rail-expanded) }

/* ===== Main ===== */
.content{
  width: min(100% - 48px, var(--content-max));
  margin: var(--space-4) auto;
  display: grid;
  gap: var(--space-4);
}

.card{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding: var(--space-4);
}
.card h2{ margin:0 0 var(--space-2) 0; font-size:18px }

.hero h1{ margin:0 0 6px 0; font-size: clamp(20px, 2.6vw, 28px); }
.lead{ color:var(--muted); margin:0 0 var(--space-3) 0 }
.actions{ display:flex; flex-wrap:wrap; gap:10px }
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  height:40px; padding:0 14px;
  border:1px solid var(--border); background:transparent; color:var(--text);
  border-radius:12px; text-decoration:none;
}
.btn.primary{ background:linear-gradient(90deg, var(--brand), var(--brand-2)); color:#00131a; border:0; font-weight:600 }
.placeholder{ height:160px; display:grid; place-items:center; color:var(--muted); border:1px dashed var(--border); border-radius:12px; }
.placeholder.tall{ height:320px }

/* ===== Footer ===== */
.site-footer{ margin-top:auto; background:var(--panel); border-top:1px solid var(--border) }
.footer-inner{
  width:min(100% - 32px, var(--content-max));
  margin:0 auto; height:56px; display:flex; align-items:center; gap:12px;
  color:var(--muted);
}
.footer-links{ margin-left:auto; display:flex; gap:16px }
.footer-links a{ color:var(--muted); text-decoration:none }

/* ===== Dialog ===== */
dialog{
  border:1px solid var(--border); border-radius:12px; padding:20px; background:var(--panel); color:var(--text);
}
dialog::backdrop{ background:rgba(0,0,0,.4) }
.input{ width:100%; padding:10px 12px; border:1px solid var(--border); background:transparent; color:var(--text); border-radius:10px }
.dialog-actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:14px }

/* ===== Responsive ===== */
@media (max-width: 1024px){
  /* opcional */
}

@media (max-width: 768px){
  .sidebar{
    transform: translateX(-100%);
    width: var(--rail-expanded);
    box-shadow: 16px 0 32px rgba(0,0,0,.35);
  }
  body.sidebar-open .sidebar{ transform: translateX(0) }

  .topbar, .notifybar, .page, .site-footer{
    left: 0 !important; margin-left: 0 !important;
  }

  .page{ padding-top: calc(var(--header-h) + var(--notify-h)); }
  .topbar{ padding-inline:12px }
  .brand .brand-name{ display:none }
}

/* Utilidad: solo móvil */
.only-mobile { display: none; }
@media (max-width: 768px){
  .only-mobile { display: grid; }
}
