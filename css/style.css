/* =========================================================
   1) VARIABLES & THEME TOKENS
   ========================================================= */
:root{ 
  --header-h: 64px;
  --notify-h: 40px;
  --rail-collapsed: 64px;
  --rail-expanded: 280px;
  --content-max: 1440px;

  --rail-btn: 40px;
  --rail-gutter: calc((var(--rail-collapsed) - var(--rail-btn)) / 2);

  --space-1: 6px;  --space-2: 10px; --space-3: 16px; --space-4: 24px;
  --radius: 14px;

  --bg: #0d1117;
  --panel: #161b22;
  --panel-2: #1c2230;
  --text: #dbe5ff;
  --muted: #9fb0d0;
  --border: rgba(255,255,255,.12);
  --brand: #00d1ff;
  --brand-2: #7ef0ff;
   --brand-row-h: 56px;  /* alto de la fila de marca */
  --brand-gap:   8px;   /* separaci√≥n logo ‚Üî nombre */
  --brand-logo:   28px;  /* tama√±o visual del logo */
  
   /* mismo fondo que el hover del rail */
  --hover-bg: var(--panel-2);

   --social-border-hover: rgba(255,255,255,.22); /* valor base para dark */


     /* === Bottom bar safe-area & paddings === */
  --bb-h: 64px;
  --safe-b: env(safe-area-inset-bottom, 0px);
  --safe-l: env(safe-area-inset-left, 0px);
  --safe-r: env(safe-area-inset-right, 0px);
     /* üëá NUEVO: margen superior para notch / status bar de iOS */
  --safe-t: env(safe-area-inset-top, 0px);
  --bb-pad-x: 20px;     /* margen lateral tipo App/Play Store */
  --bb-pad-top: 6px;    /* empuje hacia arriba (iconos/labels no centrados) */


}

/* Contenido alineado con el marco lateral */
.topbar, .notifybar, .footer-inner{
  padding-inline: clamp(16px, calc((100% - var(--content-max)) / 2), 24px);
}

/* Marca topbar (se mantiene) */
.topbar .brand{
  flex: 0 1 auto;
  white-space: nowrap;
}
body.sidebar-open .topbar .brand{ opacity:0; width:0; margin:0; pointer-events:none }
body.sidebar-open .topbar .top-actions .divider{ opacity:0; width:0 }





/* =========================================================
   2) THEMES (System / Light / Dark)
   ========================================================= */
@media (prefers-color-scheme: light){
  :root[data-theme="system"]{
    --bg:#f5f7fb; --panel:#ffffff; --panel-2:#f1f4fa; --text:#111827; --muted:#55627a; --border:rgba(17,24,39,.1);
    --social-border-hover: rgba(17,24,39,.18);  /* borde un poco m√°s oscuro que el normal */
  }
}
:root[data-theme="light"]{
  --bg:#f5f7fb; --panel:#ffffff; --panel-2:#f1f4fa; --text:#111827; --muted:#55627a; --border:rgba(17,24,39,.1);
  --social-border-hover: rgba(17,24,39,.18);
}
:root[data-theme="dark"]{
  --bg:#0d1117; --panel:#161b22; --panel-2:#1c2230; --text:#dbe5ff; --muted:#9fb0d0; --border:rgba(255,255,255,.12);
  --social-border-hover: rgba(255,255,255,.22); /* borde un poco m√°s claro que el normal */
}



/* =========================================================
   3) RESET & BASE TYPOGRAPHY
   ========================================================= */
*{ box-sizing:border-box }

html,
body{
  height:100%;
  overflow-x: hidden;   /* üëà ESTA ES LA CLAVE */
}

body{
  margin:0;
  color:var(--text);
  background:var(--bg);
  font: 400 16px/1.45 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans";
}




/* =========================================================
   4) SIDEBAR (Rail)
   ---------------------------------------------------------
   4.1) Contenedor
   4.2) Cabecera del rail
   4.3) Marca dentro del sidebar
   4.4) Grupos
   4.5) Items
   4.6) Estados de foco (sin ring)
   4.7) Control de tema en el footer del rail
   ========================================================= */


/* 4.1) Contenedor */
.sidebar{
  position: fixed;
  top: 0;               /* ‚Üê otra vez 0, para pintar detr√°s de la hora */
  bottom: 0;
  left: 0;
  width: var(--rail-collapsed);
  background: var(--panel);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: width .2s ease;
  z-index: 45;
  padding-top: 0;
  /* ANTES: overflow: hidden;  */
  overflow-y: auto;           /* ‚Üê permite scroll si hay muchas opciones */
  overscroll-behavior: contain; /* ‚Üê evita que se desplace el fondo */
  overflow-x: hidden;   /* evita overflow horizontal interno en el rail */
}
body.sidebar-open .sidebar{ width: var(--rail-expanded) }


/* 4.2) Cabecera del rail */
.rail-head{
  position: absolute;
  top: var(--safe-t);   /* ‚Üê antes era 0 */;
  left: 0; right: 0;
  height: var(--header-h);
  display: grid;
  grid-template-columns: var(--rail-collapsed) 1fr; /* simetr√≠a al cerrar */
  gap: 12px;
  padding: var(--rail-gutter) var(--rail-gutter) var(--rail-gutter) 0; /* left=0 */
  align-items: center;
  z-index: 2;
}
body.sidebar-open .rail-head{
  grid-template-columns: var(--rail-collapsed) 1fr var(--rail-collapsed);
}

/* Reserva espacio bajo la barra + safe-area para el grupo */
.sidebar > .rail-head + .rail-group{
  padding-top: calc(var(--safe-t) + var(--header-h));
}



/* Bot√≥n "bars" */
.rail-head .rail-toggle{
  border:0; background:transparent;
  width:var(--rail-btn); height:var(--rail-btn);
  display:flex; align-items:center; justify-content:center;
  line-height:0; margin:0;
  border-radius:12px;
  transition: background .15s ease, transform .2s ease;
  grid-column: 1;               
  justify-self: center;
  align-self: center;
}
.rail-head .rail-toggle:hover{ background:var(--panel-2) }
.rail-head .rail-toggle:focus-visible{ outline:2px solid var(--brand); outline-offset:2px }
body.sidebar-open .rail-head .rail-toggle{
  grid-column: 3;
  justify-self: center;
}


/* 4.3) Marca dentro del sidebar */
.sidebar .rail-head .brand{
  display: none;
}
body.sidebar-open .sidebar .rail-head .brand{
  display: grid;
  grid-template-columns: var(--rail-collapsed) 1fr; /* [icono | texto] */
  align-items: center;
  grid-column: 1 / 3;        /* ocupa col 1-2; deja 3 para el bot√≥n ‚ò∞ */
  gap: 6px;
  height: 56px;
  padding: var(--space-3) 0; /* sin padding-left extra */
  text-decoration: none;
  color: var(--text);
  border-radius: var(--radius);
}
/* El logo en el rail usa el mismo tama√±o que en topbar */
.sidebar .rail-head .brand .brand-logo{
  width: var(--brand-ico);
  height: var(--brand-ico);
  justify-self: center;
}

.sidebar .rail-head .brand-name{
  font-weight: 700;
  white-space: nowrap;
  overflow: hidden;
  min-width: 0;
  opacity: 0;
  width: 0;
  transform: translateX(-4px);
  transition: opacity .2s ease, transform .2s ease;
}
body.sidebar-open .sidebar .rail-head .brand-name{
  opacity: 1;
  width: auto;
  transform: none;
  margin-left: -6px;   /* ‚Äúpegadito‚Äù al icono */
}


/* 4.4) Grupos */
.rail-group{
  list-style:none;
  margin:0;
  padding:12px 0;   /* solo para los grupos, no para el footer */
}

/* Footer abajo y con padding propio */
.rail-footer{
  margin-top: auto;
  padding: 12px 8px 16px;
}



/* 4.5) Items */
.sidebar .rail-item{
  appearance:none; background:transparent; border:0; font:inherit;
  width:100%; min-height:40px;
  display:grid;
  grid-template-columns: var(--rail-collapsed) 0fr;  /* texto colapsado */
  align-items:center;
  gap:12px;
  padding:6px 8px 6px 0;
  border-radius:12px;
  color:var(--text); cursor:pointer;
  transition: grid-template-columns .2s ease; /* el fondo ya no se anima aqu√≠ */
  position: relative;           /* para el pseudo-fondo */
  overflow: visible;
  z-index: 0;
}
body.sidebar-open .rail-item{
  grid-template-columns: var(--rail-collapsed) 1fr;
  gap: 4px;                     /* separa un poco icono ‚Üî texto (mejor que 0) */
  text-align: left;             /* el bot√≥n deja de centrar el contenido */
}

/* Fondo de hover con margen a ambos lados (no toca bordes) */
.sidebar .rail-item::before{
  content:"";
  position:absolute;
  top: 2px;                
  bottom: 2px;              
  left: var(--space-2);     
  right: var(--space-2);
  border-radius:12px;
  background: var(--panel-2);
  opacity:0;
  transition: opacity .15s ease;
  pointer-events:none;
  z-index:-1;
}
.sidebar .rail-item:hover::before,
.sidebar .rail-item.is-active::before{
  opacity:1;
}
.rail-item:hover{ background: transparent }
.rail-item.is-active{ background: transparent }

/* Icono y texto */
.sidebar .rail-item .ico{
  justify-self:center;
  width:24px; text-align:center; flex:0 0 24px;
}
.sidebar .rail-item .txt{
  opacity:0; white-space:nowrap; overflow:hidden;
  transition: opacity .2s ease;
}
body.sidebar-open .sidebar .rail-item .txt{
  opacity:1;
  display:block;
  justify-self:start;
  text-align:left;
}

.rail-item.ghost{ opacity:.85 }


/* 4.5.1) Enlaces del rail: sin subrayado en ning√∫n estado */
.sidebar .rail-item,
.sidebar .rail-item:hover,
.sidebar .rail-item:focus,
.sidebar .rail-item:visited {
  text-decoration: none;
  color: var(--text);
}


/* 4.6) Sin focus ring en rail */
.sidebar .rail-item,
.sidebar .rail-item:focus,
.sidebar .rail-item:focus-visible,
.sidebar .rail-item:-moz-focusring,
.sidebar .rail-item:focus-within {
  outline: none !important;
  box-shadow: none !important;
}
.sidebar .icon-btn:focus,
.sidebar .icon-btn:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

/* Firefox: elimina el borde interno por defecto de los botones */
.sidebar button::-moz-focus-inner { border: 0; }



/* 4.7) Control de tema en el footer del rail
   üåô Dark mode [switch] ‚Äì tipo Reddit/TikTok
   --------------------------------------------------------- */

/* Fila interior: "Dark mode" + switch */
.theme-row{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.theme-label{
  font-size: 14px;
}

/* Switch visual */
.theme-switch{
  position: relative;
  width: 38px;
  height: 18px;
  border-radius: 999px;
  background: var(--panel-2);       /* OFF: gris */
  flex-shrink: 0;
}

.theme-knob{
  position: absolute;
  top: 2px;
  width: 14px;
  height: 14px;
  border-radius: 999px;
  background: #fff;
  box-shadow: 0 0 0 1px rgba(0,0,0,.35);
  transition: left .18s ease, background .18s ease;
}

/* Estado OFF (light) -> [‚ö™      ] */
:root[data-theme="light"] .theme-switch{
  background: var(--panel-2);
}
:root[data-theme="light"] .theme-knob{
  left: 2px;
}

/* Estado ON (dark) -> [üü¶üü¶‚ö™] */
:root[data-theme="dark"] .theme-switch{
  background: linear-gradient(90deg, var(--brand), var(--brand-2));
}
:root[data-theme="dark"] .theme-knob{
  left: 22px;
}


.sidebar .rail-item .ico{
  justify-self:center;
  width:24px;
  text-align:center;
  flex:0 0 24px;
}

.rail-footer{
  margin-top: auto;
  padding: 12px 0 16px;  /* antes: 12px 8px 16px */
}

/* --- Theme item: comportamiento seg√∫n estado del sidebar --- */

/* Aseguramos que el contenido interno no tenga rarezas de opacidad */
#themeToggle .theme-row{
  opacity: 1;
  white-space: nowrap;
  overflow: visible;
  transition: none;
}

/* Sidebar CERRADO ‚Üí solo icono, como los dem√°s items */
body:not(.sidebar-open) #themeToggle{
  grid-template-columns: var(--rail-collapsed);  /* solo columna del icono */
}

body:not(.sidebar-open) #themeToggle .theme-row{
  display: none;   /* ocultamos "Light mode" + switch */
}

/* Sidebar ABIERTO ‚Üí icono + texto + switch */
body.sidebar-open #themeToggle{
  grid-template-columns: var(--rail-collapsed) 1fr;
}

body.sidebar-open #themeToggle .theme-row{
  display: flex;   /* mostramos la fila interna normal */
}












/* =========================================================
   5) TOPBAR (Header fijo)
      5.1) Alerts
      5.2)BOT√ìN DE IDIOMA ‚Äì EFECTO ZOOM AL PASAR EL MOUSE
   ========================================================= */
.topbar{
  position: fixed;
  top: 0;                         /* cubre tambi√©n la zona de la hora */
  left: var(--rail-collapsed);
  right: 0;

  /* alto total = barra + zona segura superior */
  height: calc(var(--header-h) + var(--safe-t));

  /* bajamos el contenido para que no se meta en el notch */
  padding: var(--safe-t) var(--space-4) 0;

  display:flex; align-items:center; gap:var(--space-3);
  background:var(--bg);
  border-bottom:1px solid var(--border);
  z-index: 1100;
  transition: left .2s ease;
  will-change: left;
}

body.sidebar-open .topbar{ left: var(--rail-expanded) }

/* Marca topbar cuando sidebar cerrado */
.topbar .topbar-brand{
  display: grid;
  grid-auto-flow: column;        
  grid-auto-columns: max-content;
  align-items: center;
  gap: 6px;
   height: var(--brand-row-h);
  text-decoration: none;
  color: var(--text);
  border-radius: var(--radius);
}
.topbar .topbar-brand .brand-name{
  font-weight: 700;               
  letter-spacing: .2px;
   margin-left: 0; /* el gap ya separa */
}
body.sidebar-open .topbar .topbar-brand{ display: none; }

/* Gen√©ricos UI header */
.icon-btn{
  display:grid; place-items:center; width:40px; height:40px;
  border:1px solid var(--border); background:transparent; color:var(--text);
  border-radius:10px; cursor:pointer;
}
.brand{
  display:flex; align-items:center;
  gap:var(--brand-gap);
  color:var(--text); text-decoration:none;
}
/* Logo unificado (topbar + sidebar) */
.brand .brand-logo{
  display:block;
  width:var(--brand-ico);
  height:var(--brand-ico);
  flex:0 0 var(--brand-ico);
}

.brand .brand-name{ font-weight:600 }

.top-actions{ margin-left:auto; display:flex; align-items:center; gap:var(--space-3)}
.top-actions .divider{ width:1px; height:22px; background:var(--border) }



/* =========================================================
   5.1) ALERTS
   ========================================================= */
.top-alerts-btn {
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);
  width: 40px;
  height: 40px;
  display: grid;
  place-items: center;
  border-radius: 10px;
  cursor: pointer;
  transition: background .2s ease;
}

.top-alerts-btn:hover {
  background: var(--panel-2);
}

.top-alerts-btn i {
  font-size: 18px;
}

/* Ocultar campana en m√≥vil */
@media (max-width: 768px) {
  .top-alerts-btn {
    display: none;
  }
}



/* =========================================================
   5.2) BOT√ìN DE IDIOMA ‚Äì EFECTO ZOOM AL PASAR EL MOUSE
   ========================================================= */
.top-actions .btn {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.top-actions .btn:hover {
  transform: scale(1.05);              /* peque√±o zoom */
  box-shadow: 0 0 8px rgba(0,0,0,0.25); /* leve sombra opcional */
}




/* =========================================================
   6) NOTIFY BAR
   ========================================================= */
.notifybar{
  position: fixed;
  top: calc(var(--safe-t) + var(--header-h));  /* header + safe-top */;
  left: var(--rail-collapsed);
  right: 0;
  min-height: 36px;
  display:flex; align-items:center; gap:10px; justify-content:center;
  background:var(--panel-2); border-bottom:1px solid var(--border);
  padding: 8px var(--space-4);
  color:var(--muted);
  z-index: 1050;
  transition: left .2s ease;
  will-change: left;
}
body.sidebar-open .notifybar{ left: var(--rail-expanded) }
.notifybar a{ color:var(--brand); text-decoration:none }



/* =========================================================
   7) PAGE LAYOUT (Main, Cards, Footer)
   ========================================================= */
.page{
  min-height:100svh;
  display:flex;
  flex-direction:column;
  margin-left: var(--rail-collapsed);
  transition: margin-left .2s ease;
  padding-top: calc(var(--safe-t) + var(--header-h) + var(--notify-h));
}
body.sidebar-open .page{ margin-left: var(--rail-expanded) }

/* Main */
.content{
  width: min(100% - 48px, var(--content-max));
  margin: var(--space-4) auto;
  display: grid;
  gap: var(--space-4);
}

/* Cards & hero */
.card{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding: var(--space-4);
}
.card h2{ margin:0 0 var(--space-2) 0; font-size:18px }

.hero h1{ margin:0 0 6px 0; font-size: clamp(20px, 2.6vw, 28px) }
.lead{ color:var(--muted); margin:0 0 var(--space-3) 0 }
.actions{ display:flex; flex-wrap:wrap; gap:10px }
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  height:40px; padding:0 14px;
  border:1px solid var(--border); background:transparent; color:var(--text);
  border-radius:12px; text-decoration:none;
}
.btn.primary{ background:linear-gradient(90deg, var(--brand), var(--brand-2)); color:#00131a; border:0; font-weight:600 }
.placeholder{ height:160px; display:grid; place-items:center; color:var(--muted); border:1px dashed var(--border); border-radius:12px }
.placeholder.tall{ height:320px }


/* --- Hero titles por dispositivo --- */
.hero-title-mobile {
  display: none;
}

.hero-title-desktop {
  display: block;
}

/* --- Layout base de los botones --- */
.hero .actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2, 0.5rem);
}

/* Por defecto mostramos solo el CTA de desktop */
.hero-cta-desktop {
  display: inline-flex;
}

.hero-cta-mobile {
  display: none;
}

/* ========================================
   DESKTOP / TABLET  (>= 768px)
   ======================================== */
@media (min-width: 768px) {
  .hero-title-desktop {
    display: block;
  }

  .hero-title-mobile {
    display: none;
  }

  /* todos los botones en una sola fila */
  .hero .actions {
    flex-wrap: nowrap;
  }

  .hero .actions .btn {
    flex: 0 0 auto; /* tama√±o natural de cada bot√≥n */
  }

  .hero-cta-desktop {
    display: inline-flex;
  }

  .hero-cta-mobile {
    display: none;
  }
}

/* ========================================
   MOBILE  (< 768px)
   ======================================== */
@media (max-width: 767px) {
  .hero-title-desktop {
    display: none;
  }

  .hero-title-mobile {
    display: block;
  }

  /* CTA principal: FILA 1, ocupa todo el ancho */
  .hero-cta-desktop {
    display: none;
  }

  .hero-cta-mobile {
    display: inline-flex;
    flex: 1 0 100%;     /* 100% de ancho */
    justify-content: center;
  }

  /* Botones secundarios: FILA 2, comparten espacio */
  .hero .actions .btn:not(.primary) {
    flex: 1 1 0;
    min-width: 0;
    text-align: center;
  }
}



/* Footer */
.site-footer{ margin-top:auto; background:var(--bg); border-top:1px solid var(--border) }
.footer-inner{
  width:min(100% - 32px, var(--content-max));
  margin:0 auto; height:56px; display:flex; align-items:center; gap:12px;
  color:var(--muted);
}
.footer-links{ margin-left:auto; display:flex; gap:16px }
.footer-links a{ color:var(--muted); text-decoration:none }



/* =========================================================
   8) DIALOG (fallback)
   ========================================================= */
dialog{
  border:1px solid var(--border); border-radius:12px; padding:20px; background:var(--panel); color:var(--text)
}
dialog::backdrop{ background:rgba(0,0,0,.4) }
.input{ width:100%; padding:10px 12px; border:1px solid var(--border); background:transparent; color:var(--text); border-radius:10px }
.dialog-actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:14px }



/* =========================================================
   9) SHARE POPOVER
   ========================================================= */
.share-popover[hidden]{ display:none !important; }

.share-popover{
  position: fixed;                 /* posicionado por JS, como el de tema */
  /* Antes: width: min(360px, 92vw);  */
  width: min(var(--share-popover-w, 360px), 92vw);
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px;
  z-index: 2100;                   /* sobre el theme-popover */
}

/* 10.1) Share field (input + Copy integrado) */
.share-field{
  display:flex; align-items:center; gap:10px;
  border:1px solid var(--border);
  background: var(--panel);
  border-radius: 10px;
  padding: 8px 8px 8px 10px;
}
.share-field .field-icon{
  width:18px; text-align:center; opacity:.75;
}
.share-field .field-input{
  flex:1; 
  min-width:0;
  border:0; 
  background:transparent;
  color:var(--text);
  font: inherit;
  outline:none;

  /* üëá Ellipsis consistente en Firefox/Chromium */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-inline: 0;
  appearance: none;
  -moz-appearance: none;
  direction: ltr;
  line-height: 1.4;
}
.share-field .field-copy{
  display:inline-flex; align-items:center; gap:8px;
  border:0; background:transparent; color:var(--text);
  padding:6px 10px; border-radius:8px; cursor:pointer;
  position: relative;
  z-index: 0;   /* crea un stacking context local para su ::before */
}
.share-field .field-copy::before{
  content:"";
  position:absolute;
  inset: 2px;                  /* margen como el rail: no pega a los bordes */
  border-radius:8px;
  background: var(--hover-bg, rgba(125,125,125,.08));
  opacity:0;
  transition: opacity .15s ease;
  z-index: -1;              /* ‚¨ÖÔ∏è queda DETR√ÅS del contenido del bot√≥n */
}

/* Eleva icono y texto del bot√≥n por encima del ::before */
.share-field .field-copy > *{
  position: relative;
  z-index: 1;
}


.share-field .field-copy:hover::before{ opacity:1; }

/* Efecto hover y focus igual que los √≠conos del sidebar */
.share-field .field-copy{
  outline: none;
}
.share-field .field-copy:focus,
.share-field .field-copy:focus-visible{
  outline: none;
  box-shadow: none;
}
/* mientras .share-field tiene la clase .copied, esconde el bot√≥n y icon_link */
.share-field.copied .field-copy,
.share-field.copied .field-icon{
  display: none;
}


/* Feedback de copiado */
.share-field.copied{
  background: rgba(16,185,129,.12);
  border-color: rgba(16,185,129,.35);
}
.share-field.copied .field-copy .copy-text{ font-weight:600; }


/* 2) Centra el mensaje en el input */
.share-field.copied .field-input{
  text-align: center;
}

.share-inner{ display:flex; flex-direction:column; gap:10px }
.share-head{ display:flex; align-items:center; justify-content:space-between; gap:8px }
.share-head h3{ margin:0; font-size:16px }


.share-body{ display:flex; flex-direction:column; gap:10px }
.share-actions{ display:flex; flex-wrap:wrap; gap:10px; }

/* Iconos en una sola fila y con anchos iguales */
.share-actions.icons-only{
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* 3 partes iguales */
  gap: 10px;
}

/* Cada bot√≥n ocupa su parte y centra el icono */
.share-actions.icons-only .btn{
  display: grid;
  place-items: center;   /* centra el icono */
  padding: 0;            /* sin padding extra horizontal */
  height: 40px;          /* ya coincide con tus botones */
}

/* Tama√±o visual del icono: homog√©neo */
.share-actions.icons-only .btn i{
  font-size: 18px;       /* suficiente contraste y equilibrio */
  line-height: 1;
}

/* Bordes en hover/focus iguales al color del icono (currentColor) */
.share-actions .btn{
  transition: border-color .15s ease; /* suaviza el cambio */
}

.share-actions .btn:hover,
.share-actions .btn:focus-visible{
  border-color: currentColor;         /* mismo color que el icono */
}



.sr-only{
  position:absolute !important;
  width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0;
}


/* =========================================================
   10) RAIL TOOLTIP (solo desktop con sidebar cerrado)
   ========================================================= */
.rail-tip[hidden] { display: none !important; }

.rail-tip{
  position: fixed;
  z-index: 3000;
  max-width: 220px;
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px 10px;
  /* Sombra que incluye tambi√©n el pico */
  font-size: 14px;
  line-height: 1.2;
  pointer-events: none;
  /* animaci√≥n sutil */
  opacity: 0; transform: translateY(2px);
  transition: opacity .12s ease, transform .12s ease;
}
.rail-tip.is-visible{
  opacity: 1; transform: translateY(0);
}
/* Tri√°ngulo lateral del tooltip */
.rail-tip::before,
.rail-tip::after {
  content: "";
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  height: 0;
}
/* Borde del tri√°ngulo */
.rail-tip::before {
  right: 100%;
  border-top: 8px solid transparent;
  border-bottom: 8px solid transparent;
  border-right: 8px solid var(--border);
}

/* Relleno del tri√°ngulo (superpuesto) */
.rail-tip::after {
  right: calc(100% - 1px);
  border-top: 7px solid transparent;
  border-bottom: 7px solid transparent;
  border-right: 7px solid var(--panel);
}


/* === Rail-tip: sincronizar colores por tema === */

/* Tema claro: fondo y borde del pico iguales al tooltip */
:root[data-theme="light"] .rail-tip{
  background: var(--panel);
  border-color: rgba(17,24,39,.06);        /* borde muy suave */
  filter: drop-shadow(0 8px 20px rgba(17,24,39,.10)); /* sombra m√°s leve en light */
}
:root[data-theme="light"] .rail-tip::before{
  display: none;
}
:root[data-theme="light"] .rail-tip::after{
  border-right-color: var(--panel);        /* relleno del pico */
  right: calc(100% - 2px);                 /* + solape ‚Üí sin costura */
}




/* =========================================================
   11) RESPONSIVE
   ========================================================= */
@media (max-width: 1024px){ }

@media (max-width: 768px){
  /* === SIDEBAR MOBILE: drawer tipo Reddit (‚âà82% ancho) === */
  .sidebar{
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;

    /* ancho tipo Reddit: ~82% de la pantalla, m√°x 360px */
    width: min(82vw, 360px);

    transform: translateX(-100%);
    box-shadow: none; /* üëà SIN sombra cuando est√° cerrado */

    /* por encima de todo (topbar = 1100, popovers = 2000) */
    z-index: 2200;

    /* seguimos usando tu color de panel seg√∫n tema */
    background: var(--panel);
  }

  /* cuando est√° abierto, mismo ancho y entra en pantalla */
  body.sidebar-open .sidebar{
    transform: translateX(0);
    width: min(82vw, 360px);
    box-shadow: 16px 0 32px rgba(0,0,0,.35); /* üëà sombra SOLO abierto */
  }

  /* === OVERLAY DETR√ÅS DEL DRAWER === */
  body::before{
    content: "";
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.42);   /* oscurece contenido */
    opacity: 0;
    pointer-events: none;
    transition: opacity .2s ease;
    z-index: 2100;                  /* debajo del sidebar, encima del resto */
  }
  body.sidebar-open::before{
    opacity: 1;
    pointer-events: auto;
  }

  /* contenido no se mueve: siempre pegado al borde izquierdo */
  .topbar,
  .notifybar,
  .page,
  .site-footer{
    left: 0 !important;
    margin-left: 0 !important;
  }

    .page{ padding-top: calc(var(--safe-t) + var(--header-h) + var(--notify-h)) }


  .topbar{
    padding-inline: 12px;
  }
}



/* =========================================================
   12) UTILIDADES
   ========================================================= */
.only-mobile { 
  display: none;
}
@media (max-width: 768px){
  .only-mobile { 
    display: grid;
  }
}





/* =========================================================
   13) BOTTOM BAR (con .bottom-item independiente)
   ========================================================= */
.bottom-bar{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;

  /* Altura visible de la barra (el espacio para la barra de gestos
     lo damos con el padding-bottom, no sumando en la altura) */
  height: var(--bb-h);

  background: var(--panel);
  border-top: 1px solid var(--border);
  backdrop-filter: blur(10px);

  z-index: 2000;
  transition: transform .25s ease-out;

  /* padding:
     - arriba: muy peque√±o, para que los iconos se vean m√°s ‚Äúabajo‚Äù
     - lados: respeta safe-area izquierda/derecha
     - abajo: safe-area + un poco de aire visual
  */
  padding:
    var(--bb-pad-top)
    max(var(--bb-pad-x), var(--safe-r))
    calc(var(--safe-b) + 4px)
    max(var(--bb-pad-x), var(--safe-l));
}

/* estado oculto (se mueve fuera de pantalla) */
.bottom-bar.hidden {
  transform: translateY(100%);
}

/* rail interno: los items se apoyan al FONDO de la barra */
.bottom-rail{
  height: 100%;
  margin: 0;
  list-style: none;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;   /* antes: flex-start */
  gap: 14px;
  padding: 0;
}

.bottom-bar .bottom-item{
  flex: 1 1 0;
  min-width: 0;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: 4px;
  text-decoration: none;

  color: var(--muted);
  font-size: 11px;
}

.bottom-bar .bottom-item .ico{
  font-size:22px;
  line-height:1;
  transform: translateY(2px);
}
.bottom-bar .bottom-item .txt{
  display:block;
  line-height:1.1;
}

/* activo/hover: solo color */
.bottom-bar .bottom-item.is-active,
.bottom-bar .bottom-item:hover {
  color: var(--brand);
}

/* NO heredar nada del sidebar */
.bottom-bar .bottom-item::before { content: none; }
.bottom-bar .bottom-item,
.bottom-bar .bottom-item.is-active,
.bottom-bar .bottom-item:focus,
.bottom-bar .bottom-item:hover {
  background: none;
  box-shadow: none;
  border-radius: 0;
}

/* solo m√≥vil: visible; en desktop se oculta */
@media (min-width: 769px) {
  .bottom-bar { display: none; }
}

/* en m√≥vil reservamos el espacio para que el contenido
   no quede escondido detr√°s del bottom bar */
@media (max-width:768px){
  body{
    padding-bottom: calc(var(--bb-h) + var(--safe-b) + 8px);
    /* antes +16px ‚Üí los empujaba demasiado hacia arriba */
  }
}


